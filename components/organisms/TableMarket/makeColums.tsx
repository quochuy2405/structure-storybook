import { Button, CheckBox } from '@/components/atoms'
import { coinIcons, subTitle, urls } from '@/constants/coins'
import Link from 'next/link'

import { ColumnDef } from '@tanstack/react-table'
import Styles from './TableMarket.module.scss'

export const columnTableMarket = (
  active: string,
  onChange: (data: string) => void
): ColumnDef<object>[] => {
  return [
    {
      header: undefined,
      accessorKey: 'checkbox',
      size: 3,
      cell: ({ row }: any) => {
        const value = row?.original?.type || ''
        return (
          <div
            style={{ paddingLeft: '10px' }}
            onClick={() => onChange(row?.original?.type)}
          >
            <CheckBox checked={value === active} readOnly />
          </div>
        )
      }
    },
    {
      header: 'Name',
      accessorKey: 'name',
      size: 25,
      cell: (data) => {
        const value = (data.getValue() as keyof typeof coinIcons) || ''
        return (
          <div className={Styles.NameOfTable}>
            <div style={{ width: '25px' }}>{coinIcons[value.toLowerCase()]}</div>

            <div>
              <p className={Styles.Capitalize}>{value}</p>
              <p className={Styles.SubTitle}>{subTitle[value.toLowerCase()]}</p>
            </div>
          </div>
        )
      }
    },
    {
      header: 'Price',
      accessorKey: 'price',
      size: 10
    },
    {
      header: '1d',
      accessorKey: 'day',
      size: 10
    },
    {
      header: 'MarketCap',
      accessorKey: 'market_cap',
      size: 15
    },
    {
      header: 'Volume(24h)',
      accessorKey: 'volume',
      size: 15
    },
    {
      header: '7d Chart',
      accessorKey: 'days_chart',
      size: 15,
      cell: () => {
        return (
          <svg
            height={40}
            width={100}
            viewBox="0 0 100 40"
            xmlns="http://www.w3.org/2000/svg"
          >
            <defs>
              <linearGradient id="negative" x1="0%" y1="0%" x2="0%" y2="100%">
                <stop offset="0%" stopColor="#F45B69" stopOpacity=".8" />
                <stop offset="90%" stopColor="#F45B69" stopOpacity=".1" />
                <stop offset="100%" stopColor="#F45B69" stopOpacity={0.0} />
              </linearGradient>
            </defs>
            <clipPath id="cut-off-bottom">
              <rect x={0} y={-10} width={100} height={40} />
            </clipPath>
            <polyline
              stroke="none"
              fill="url(#negative)"
              points="0,40 0,27.074043710383684 0.5952380952380952,27.26893416781642 1.1904761904761905,28.941632840774975 1.7857142857142856,28.182333220024887 2.380952380952381,37.42243373124579 2.976190476190476,40 3.571428571428571,38.47606859824163 4.166666666666666,38.95516319742984 4.761904761904762,36.269620683449595 5.357142857142857,36.23869415395276 5.952380952380952,36.20536815233977 6.547619047619048,35.49992335019627 7.142857142857142,36.25229116261081 7.738095238095238,35.48685955756394 8.333333333333332,38.00870475162125 8.928571428571429,36.83109715862509 9.523809523809524,32.477654915918464 10.119047619047619,34.217005592102986 10.714285714285714,34.63478034832333 11.30952380952381,36.367199216172395 11.904761904761903,35.48525990948658 12.5,34.55639759252964 13.095238095238097,28.74940846347134 13.690476190476192,28.411349503109278 14.285714285714285,28.613171768877468 14.880952380952381,28.861917044916787 15.476190476190476,27.812814514140168 16.071428571428573,27.210280404977556 16.666666666666664,27.362780188358578 17.261904761904763,29.131457745962475 17.857142857142858,33.283877546939586 18.452380952380953,26.992195050422218 19.047619047619047,28.368425613031746 19.642857142857142,29.610552345150683 20.238095238095237,28.460138769470724 20.833333333333336,29.075736671265666 21.428571428571427,28.370025261109205 22.023809523809522,28.23592143061861 22.61904761904762,28.603040664387095 23.214285714285715,30.096578752674347 23.809523809523807,29.70653122979612 24.404761904761905,32.33528623702782 25,31.95057087440759 25.595238095238095,31.84019515706542 26.190476190476193,29.845434004518992 26.785714285714285,30.244812807848913 27.380952380952383,29.52363813294408 27.976190476190478,29.223970726440136 28.57142857142857,32.274499610085776 29.166666666666668,31.756213633000677 29.761904761904763,32.02042217378836 30.357142857142854,29.917684776015903 30.952380952380953,21.499536768577553 31.547619047619047,16.946938340231835 32.142857142857146,13.66099458119216 32.73809523809524,12.741196936673958 33.33333333333333,12.350082981743991 33.92857142857143,0 34.523809523809526,6.216499036878503 35.11904761904761,8.121413289076365 35.714285714285715,8.828724347310288 36.30952380952381,8.127811881386101 36.904761904761905,10.152433131377734 37.5,10.637659714862721 38.095238095238095,10.865876173908433 38.69047619047619,10.324395299700718 39.285714285714285,9.501642971879495 39.88095238095239,10.840015196656726 40.476190476190474,9.745322695673579 41.07142857142857,10.307865602900712 41.66666666666667,11.322842308025574 42.26190476190476,15.837315790526034 42.857142857142854,9.279558497130655 43.452380952380956,10.552345150733476 44.047619047619044,7.915591903114681 44.642857142857146,3.5000299934014194 45.23809523809524,10.2342817913392 45.83333333333333,8.85511854058771 46.42857142857143,18.451940573073863 47.023809523809526,16.686462311624783 47.61904761904761,19.27442629288223 48.214285714285715,16.81470076583146 48.80952380952381,16.786440316463718 49.404761904761905,18.887844674171678 50,17.49588423880082 50.595238095238095,17.93392120400172 51.19047619047619,17.712103337265745 51.78571428571429,17.94645178060823 52.38095238095239,19.610352389141013 52.976190476190474,20.489359007684964 53.57142857142857,20.563742643285153 54.166666666666664,20.237947651516645 54.761904761904766,17.534809008684753 55.35714285714286,17.72410069784643 55.952380952380956,22.65741536861888 56.547619047619044,17.996574087034176 57.14285714285714,15.604833603273963 57.738095238095234,17.707037785020603 58.333333333333336,17.950717508814687 58.92857142857143,20.617864069904602 59.523809523809526,23.45164063905941 60.11904761904761,22.762992141728773 60.71428571428571,21.540861010577625 61.30952380952381,20.267274532936028 61.904761904761905,20.16996260822619 62.5,20.843414448821214 63.095238095238095,21.59311618110675 63.69047619047619,21.373964394499872 64.28571428571429,22.617157558670446 64.88095238095238,22.7555271173675 65.47619047619048,23.40285137269796 66.07142857142857,22.63901941572855 66.66666666666666,22.928289109729164 67.26190476190477,23.716115787859955 67.85714285714286,22.563569348076722 68.45238095238095,22.74059706864485 69.04761904761905,22.079142588630514 69.64285714285714,20.740503755840322 70.23809523809523,18.3348996554091 70.83333333333334,19.33947864803073 71.42857142857143,20.539747922123773 72.02380952380952,20.87940653056329 72.61904761904762,19.912152659748138 73.21428571428571,19.760452700405896 73.80952380952381,20.313131111155517 74.40476190476191,20.76343204495007 75,20.605600101311047 75.59523809523809,20.874074370305195 76.19047619047619,22.972279431858336 76.78571428571429,24.255197189951527 77.38095238095238,23.21329307552332 77.97619047619048,23.78863316736983 78.57142857142857,22.622223110915584 79.16666666666666,21.799470783094357 79.76190476190477,21.604580325661622 80.35714285714286,21.157478688021992 80.95238095238095,21.465144334912935 81.54761904761905,21.121219998267055 82.14285714285714,21.940773029933364 82.73809523809523,21.06656535562169 83.33333333333334,22.005025561043183 83.92857142857143,27.461158545120053 84.52380952380952,27.183886211700035 85.11904761904762,27.314790746035808 85.71428571428571,28.98109082668473 86.30952380952381,29.611085561176502 86.90476190476191,35.48446008544781 87.5,35.76279885091946 88.09523809523809,34.39216705658089 88.69047619047619,34.76408523458165 89.28571428571429,34.41749481780668 89.88095238095238,31.977231675697972 90.47619047619048,33.40491758479795 91.07142857142857,30.241880119706956 91.66666666666666,32.176921077362984 92.26190476190477,34.788879779781716 92.85714285714286,34.442555971019694 93.45238095238095,34.97230609265957 94.04761904761905,37.644251597981764 94.64285714285714,37.35391547192951 95.23809523809523,34.97790486093053 95.83333333333334,35.3636866556024 96.42857142857143,36.136583285010545 97.02380952380952,35.92969546699722 97.61904761904762,34.925116474375585 98.21428571428571,34.74568928169132 98.80952380952381,36.27868535588833 99.40476190476191,36.07499683402982 100,38.0329660807955 100,40"
            />
            <polyline
              stroke="#F45B69"
              strokeWidth={1}
              fill="none"
              points="0,27.074043710383684 0.5952380952380952,27.26893416781642 1.1904761904761905,28.941632840774975 1.7857142857142856,28.182333220024887 2.380952380952381,37.42243373124579 2.976190476190476,40 3.571428571428571,38.47606859824163 4.166666666666666,38.95516319742984 4.761904761904762,36.269620683449595 5.357142857142857,36.23869415395276 5.952380952380952,36.20536815233977 6.547619047619048,35.49992335019627 7.142857142857142,36.25229116261081 7.738095238095238,35.48685955756394 8.333333333333332,38.00870475162125 8.928571428571429,36.83109715862509 9.523809523809524,32.477654915918464 10.119047619047619,34.217005592102986 10.714285714285714,34.63478034832333 11.30952380952381,36.367199216172395 11.904761904761903,35.48525990948658 12.5,34.55639759252964 13.095238095238097,28.74940846347134 13.690476190476192,28.411349503109278 14.285714285714285,28.613171768877468 14.880952380952381,28.861917044916787 15.476190476190476,27.812814514140168 16.071428571428573,27.210280404977556 16.666666666666664,27.362780188358578 17.261904761904763,29.131457745962475 17.857142857142858,33.283877546939586 18.452380952380953,26.992195050422218 19.047619047619047,28.368425613031746 19.642857142857142,29.610552345150683 20.238095238095237,28.460138769470724 20.833333333333336,29.075736671265666 21.428571428571427,28.370025261109205 22.023809523809522,28.23592143061861 22.61904761904762,28.603040664387095 23.214285714285715,30.096578752674347 23.809523809523807,29.70653122979612 24.404761904761905,32.33528623702782 25,31.95057087440759 25.595238095238095,31.84019515706542 26.190476190476193,29.845434004518992 26.785714285714285,30.244812807848913 27.380952380952383,29.52363813294408 27.976190476190478,29.223970726440136 28.57142857142857,32.274499610085776 29.166666666666668,31.756213633000677 29.761904761904763,32.02042217378836 30.357142857142854,29.917684776015903 30.952380952380953,21.499536768577553 31.547619047619047,16.946938340231835 32.142857142857146,13.66099458119216 32.73809523809524,12.741196936673958 33.33333333333333,12.350082981743991 33.92857142857143,0 34.523809523809526,6.216499036878503 35.11904761904761,8.121413289076365 35.714285714285715,8.828724347310288 36.30952380952381,8.127811881386101 36.904761904761905,10.152433131377734 37.5,10.637659714862721 38.095238095238095,10.865876173908433 38.69047619047619,10.324395299700718 39.285714285714285,9.501642971879495 39.88095238095239,10.840015196656726 40.476190476190474,9.745322695673579 41.07142857142857,10.307865602900712 41.66666666666667,11.322842308025574 42.26190476190476,15.837315790526034 42.857142857142854,9.279558497130655 43.452380952380956,10.552345150733476 44.047619047619044,7.915591903114681 44.642857142857146,3.5000299934014194 45.23809523809524,10.2342817913392 45.83333333333333,8.85511854058771 46.42857142857143,18.451940573073863 47.023809523809526,16.686462311624783 47.61904761904761,19.27442629288223 48.214285714285715,16.81470076583146 48.80952380952381,16.786440316463718 49.404761904761905,18.887844674171678 50,17.49588423880082 50.595238095238095,17.93392120400172 51.19047619047619,17.712103337265745 51.78571428571429,17.94645178060823 52.38095238095239,19.610352389141013 52.976190476190474,20.489359007684964 53.57142857142857,20.563742643285153 54.166666666666664,20.237947651516645 54.761904761904766,17.534809008684753 55.35714285714286,17.72410069784643 55.952380952380956,22.65741536861888 56.547619047619044,17.996574087034176 57.14285714285714,15.604833603273963 57.738095238095234,17.707037785020603 58.333333333333336,17.950717508814687 58.92857142857143,20.617864069904602 59.523809523809526,23.45164063905941 60.11904761904761,22.762992141728773 60.71428571428571,21.540861010577625 61.30952380952381,20.267274532936028 61.904761904761905,20.16996260822619 62.5,20.843414448821214 63.095238095238095,21.59311618110675 63.69047619047619,21.373964394499872 64.28571428571429,22.617157558670446 64.88095238095238,22.7555271173675 65.47619047619048,23.40285137269796 66.07142857142857,22.63901941572855 66.66666666666666,22.928289109729164 67.26190476190477,23.716115787859955 67.85714285714286,22.563569348076722 68.45238095238095,22.74059706864485 69.04761904761905,22.079142588630514 69.64285714285714,20.740503755840322 70.23809523809523,18.3348996554091 70.83333333333334,19.33947864803073 71.42857142857143,20.539747922123773 72.02380952380952,20.87940653056329 72.61904761904762,19.912152659748138 73.21428571428571,19.760452700405896 73.80952380952381,20.313131111155517 74.40476190476191,20.76343204495007 75,20.605600101311047 75.59523809523809,20.874074370305195 76.19047619047619,22.972279431858336 76.78571428571429,24.255197189951527 77.38095238095238,23.21329307552332 77.97619047619048,23.78863316736983 78.57142857142857,22.622223110915584 79.16666666666666,21.799470783094357 79.76190476190477,21.604580325661622 80.35714285714286,21.157478688021992 80.95238095238095,21.465144334912935 81.54761904761905,21.121219998267055 82.14285714285714,21.940773029933364 82.73809523809523,21.06656535562169 83.33333333333334,22.005025561043183 83.92857142857143,27.461158545120053 84.52380952380952,27.183886211700035 85.11904761904762,27.314790746035808 85.71428571428571,28.98109082668473 86.30952380952381,29.611085561176502 86.90476190476191,35.48446008544781 87.5,35.76279885091946 88.09523809523809,34.39216705658089 88.69047619047619,34.76408523458165 89.28571428571429,34.41749481780668 89.88095238095238,31.977231675697972 90.47619047619048,33.40491758479795 91.07142857142857,30.241880119706956 91.66666666666666,32.176921077362984 92.26190476190477,34.788879779781716 92.85714285714286,34.442555971019694 93.45238095238095,34.97230609265957 94.04761904761905,37.644251597981764 94.64285714285714,37.35391547192951 95.23809523809523,34.97790486093053 95.83333333333334,35.3636866556024 96.42857142857143,36.136583285010545 97.02380952380952,35.92969546699722 97.61904761904762,34.925116474375585 98.21428571428571,34.74568928169132 98.80952380952381,36.27868535588833 99.40476190476191,36.07499683402982 100,38.0329660807955"
            />
            <line
              fill="#01a09e"
              strokeWidth="0.5"
              stroke="#F45B69"
              strokeDasharray={4}
              x1={0}
              x2={100}
              y1="27.074043710383684"
              y2="27.074043710383684"
            />
          </svg>
        )
      }
    },
    {
      header: 'Predict',
      accessorKey: 'type',
      cell: (data) => {
        const value = (data.getValue() as keyof typeof urls) || ''
        return (
          <Link href={`prices/${urls[value.toLowerCase()]}`}>
            <Button className={Styles.ButtonPredict}>
              <p>Predict</p>
            </Button>
          </Link>
        )
      }
    }
  ]
}
